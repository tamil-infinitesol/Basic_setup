<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Chat</title>

<style>
      /* ===== GLOBAL ===== */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0
    }
 
    body {
      background: #000000;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      font-family: Inter, system-ui;
      color: #fff;
    }
 
    /* ===== CHAT ===== */
    .chat_bod {
      width: 100%;
      max-width: 650px;
      height: 550px;
      margin: 30px;
      padding: 20px;
    }
 
    .chat_bod.fade-out {
      opacity: 0;
      transform: scale(.96);
      pointer-events: none;
    }
 
    /* Container */
    .chat-container {
      width: 100%;
      height: 100%;
      background: transparent;
      border: 3px solid #0c056c;
      border-radius: 2px;
      display: flex;
      flex-direction: column;
    }
 
    /* Header */
    .chat-header {
      padding: 16px;
      text-align: center;
      font-size: 22px;
      font-weight: 600;
     
    }
 
    /* Body */
    .chat-body {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }
 
    .chat-body::-webkit-scrollbar {
      display: none
    }
 
  /* Chat body must be flex */
.chat-body {
  display: flex;
  flex-direction: column;
  gap: 6px;
}
 
/* ===== Messages (Flexible) ===== */
.message {
  display: inline-block;
  padding: 11px 15px;
  border-radius: 14px;
  font-size: 14px;
  line-height: 1.6;
  max-width: 80%;
  word-wrap: break-word;
  word-break: break-word;
  white-space: pre-wrap;
}
 
/* User message ‚Üí RIGHT */
.message.user {
  align-self: flex-end;        /* key line */
  background: #3a3a3a;
  border-radius: 14px 14px 4px 14px;
  text-align: left;
}
 
/* Bot message ‚Üí LEFT */
.message.bot {
  align-self: flex-start;      /* key line */
  background: #242424;
  border-radius: 14px 14px 14px 4px;
  text-align: left;
}
 
    .typing {
      opacity: .6;
      font-style: italic
    }
 
    /* Input */
    .chat-input {
      padding: 14px;
      display: flex;
      gap: 12px;
      border-top: 1px solid #2a2a2a;
    }
 
    .chat-input input {
      flex: 1;
      height: 44px;
      border-radius: 8px;
      border: 1px solid hsl(165, 2%, 58%);
      background: #2f2f2f;
      color: #fff;
      padding: 0 14px;
    }
 
    .chat-input button {
      width: 44px;
      height: 44px;
      border-radius: 10px;
      border: none;
      background: #1c49d3;
      color: #000;
      font-size: 18px;
      cursor: pointer;
    }
 
    /* ===== RESULT SECTION ===== */
    .result_body {
      display: none;
      width: 100%;
      max-width: 1200px;
      margin: 40px auto;
    }
 
    .result_body.show {
      display: block
    }
 
    /* Radar */
    .chart-card {
      height: 360px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
 
    canvas {
      display: none
    }
 
    .loader {
      width: 60px;
      height: 60px;
      border: 5px solid rgba(255, 255, 255, .15);
      border-top-color: #2033e2;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
 
    @keyframes spin {
      to {
        transform: rotate(360deg)
      }
    }
/* ===== FINAL CHAT MESSAGE SYSTEM ===== */
 
.message {
  display: flex;
  align-items: center;     /* center avatar + bubble */
  gap: 10px;
  margin: 6px 0;
  max-width: 100%;
  padding: 0 !important;
  border-radius: 0 !important;
}
 
/* USER ‚Üí RIGHT */
.message.user {
  justify-content: flex-end;
   opacity: 4;
  transform: translateX(-20px);
  animation: botMsgIn 0.2s ease forwards;
  box-shadow: 2px 2px 2px #ffffff;
  border: 1px solid #01010a;
}
 
/* BOT ‚Üí LEFT */
.message.bot {
  justify-content: flex-start;
}
 
/* AVATAR */
.avatar {
  width: 34px;
  height: 34px;
  border-radius: 50%;
  font-size: 11px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
 
/* USER avatar */
.message.user .avatar {
  background: #1c49d3;
  color: #ffffff;
  border: 1px solid hsl(0, 0%, 1%);
}
 
/* BOT avatar */
.message.bot .avatar {
  background: #1c49d3;
  color: #fff;
  border: 1px solid hsl(0, 0%, 0%);
}
 
/* BUBBLE (COMMON) */
.bubble {
  padding: 12px 16px;
  border-radius: 14px;
  font-size: 14px;
  line-height: 1.6;
  max-width: 75%;
  word-wrap: break-word;
  box-shadow: none !important;   /* ‚úÖ no shadow */
}
 
/* USER bubble */
.message.user .bubble {
  background: #3a3a3a;
  border-radius: 14px 14px 4px 14px;
   border: 1px solid hwb(210 15% 11%);
}
 
/* BOT bubble */
.message.bot .bubble {
  background: #242424;
  border-radius: 14px 14px 14px 4px;
   border: 1px solid hsl(211, 72%, 54%);
}
 
/* ORDER FIX */
.message.user .bubble { order: 1; }
.message.user .avatar { order: 2; }
 
.message.bot .avatar { order: 1; }
.message.bot .bubble { order: 2; }
/* ===== HARD REMOVE ALL MESSAGE SHADOW / GLOW ===== */
 
/* Remove any shadow or glow behind messages */
.message,
.message::before,
.message::after,
.message *,
.message *::before,
.message *::after {
  box-shadow: none !important;
  filter: none !important;
}
 
/* Remove background panel glow (THIS fixes your screenshot issue) */
.message {
  background: transparent !important;
}
 
/* Ensure only bubbles have color */
.message .bubble {
  background-clip: padding-box;
}
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    :root {
      --text: #ffffff;
      --muted: #c8c8c8;
      --radius: 5px;
    }
 
    *,
    *::before,
    *::after {
      box-sizing: border-box
    }
 
    html,
    body {
      scroll-behavior: smooth;
      margin: 0;
      padding: 0;
      background: #000 !important;
      color: var(--text);
      font-family: Inter, system-ui;
      min-height: 100vh;
    }
 
    .page {
      padding: 30px;
      display: flex;
      justify-content: center;
      /* overflow-x: hidden; */
    }
 
    .wrap {
      width: 100%;
      max-width: 1400px;
      display: grid;
      grid-template-columns: 1.05fr 0.95fr;
      gap: 28px;
    }
 
    @media (max-width:980px) {
      .wrap {
        grid-template-columns: 1fr
      }
    }
 
    .panel {
      border-radius: var(--radius);
      border: 1px solid rgba(255, 255, 255, 0.25);
      background: rgba(255, 255, 255, 0.13);
      backdrop-filter: blur(10px);
      box-shadow: 0 22px 40px rgba(0, 0, 0, 0.45);
      overflow: hidden;
    }
 
    .chat-inner,
    .out-inner {
      height: 560px;
      display: flex;
      flex-direction: column;
    }
 
    .chat-title {
      font-weight: 800;
      text-align: center;
      font-size: 20px;
      margin: 10px 0;
    }
 
    .thread {
      flex: 1;
      overflow: auto;
      scrollbar-width: none;
    }
 
    .thread::-webkit-scrollbar {
      display: none
    }
 
    .msg {
      display: flex;
      gap: 12px;
      margin: 12px 0 0 30px;
    }
 
    .avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      font-size: 11px;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, .15);
      border: 1px solid rgba(255, 255, 255, .25);
    }
 
    .bubble {
      background: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.22);
      border-radius: 20px 5px;
      padding: 12px 14px;
      line-height: 1.5;
    }
 
    .input-bar {
      display: flex;
      gap: 10px;
      background: rgba(255, 255, 255, 0.12);
      border: 1px solid rgba(255, 255, 255, 0.25);
      border-radius: 5px;
      margin: 10px;
      padding: 10px;
    }
 
    .input-bar input {
      flex: 1;
      background: transparent;
      border: none;
      color: #fff;
      outline: none;
    }
 
    .send {
      width: 34px;
      height: 34px;
      background: #22e6c8;
      color: #fff;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 700;
    }
 
    .chart-card {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }
 
    canvas {
      width: min(520px, 92%);
      max-height: 360px;
      display: none;
    }
 
    .loader {
      width: 60px;
      height: 60px;
      border: 5px solid rgba(255, 255, 255, 0.15);
      border-top-color: #49ffd7;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
 
    @keyframes spin {
      to {
        transform: rotate(360deg)
      }
    }
 
    /* FINDINGS */
    .finding_output {
      opacity: 0;
      transform: translateY(20px);
      max-height: 0;
      overflow: hidden;
      transition: opacity .4s, transform .4s, max-height .5s;
      grid-column: 1/-1;
      width: 100%;
    }
 
    .finding_output.show {
      opacity: 1;
      transform: translateY(0);
      max-height: 2000px;
    }
 
    .findings-section {
      background: #0f1217;
      border-radius: 5px;
      padding: 24px;
      border: 1px solid #575757;
    }
 
    .finding-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 32px;
      padding: 18px 0;
      border-bottom: 1px solid rgba(255, 255, 255, .08);
    }
 
    @media(max-width:768px) {
      .finding-row {
        grid-template-columns: 1fr
      }
    }
 
    .finding {
      display: flex;
      gap: 14px;
    }
 
    .grade {
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      border-radius: 10px;
      color: #fff;
    }
 
    .grade-a {
      background: #10b981
    }
 
    .grade-b {
      background: #6b7280
    }
 
    .grade-c {
      background: #f59e0b
    }
 
    .grade-d {
      background: #7f1d1d
    }
 
    .finding-title {
      font-weight: 600;
      text-align: left;
    }
 
    .finding-desc {
      font-size: 13px;
      color: #9ca3af;
      margin-top: 4px
    }
 
    #scanInfo {
      text-align: center;
      margin-top: 16px;
      font-size: 12px;
      color: #9ca3af
    }
  </style>
</head>

<body>
<section class="chat_bod">
  <div class="chat-container">
  <div class="chat-header">Nothing</div>

  <div class="chat-body" id="chatBody"></div>

  <div class="chat-input">
    <input
      type="text"
      id="chatInput"
      placeholder="Ask anything..."
      onkeydown="if(event.key==='Enter') handleSendMessage()"
    />
    <button onclick="handleSendMessage()">‚ûú</button>
  </div>
</div>
</section>



<section class="result_body">
  
<div class="page">
<div class="wrap">

<section class="panel chat">
  <div class="chat-inner">
    <h2 class="chat-title">HOW CAN I HELP</h2>
    <div class="thread" id="thread">

<div class="msg"><span id="userName"></span></div>

    </div>
    <div class="input-bar">
      <input id="chatInput_inner" placeholder="chat with me...">
      <button class="send" id="sendBtn">&gt;</button>
    </div>
  </div>
</section>

<section class="panel output">
  <div class="out-inner">
    <div class="chart-card">
      <div id="loader" class="loader"></div>
      <canvas id="radar" width="560" height="360"></canvas>
    </div>
  </div>
</section>

<section id="findings_out" class="finding_output">
  <div class="findings-section">
    <div id="findingsRows"></div>
    <div id="scanInfo"></div>
  </div>
</section>

</div>
</div>

</section>


<script>
/* CHAT */


const API_URL="https://telivy-backend.azurewebsites.net/api/chat";

const thread = document.getElementById("thread");
const input = document.getElementById("chatInput_inner");
const sendBtn = document.getElementById("sendBtn");


async function pollForResult(sessionId) {
  const interval = 5000;      // 5 seconds
  const maxDuration = 180000;  // 3 minute
  const startTime = Date.now();

  while (Date.now() - startTime < maxDuration) {
    try {
      const apiResult = await getDataFromApi(
        "https://telivy-backend.azurewebsites.net/api/db/session/",
        sessionId
      );

      const data = apiResult.data;
      const result = data.result;

      if (result !== null && result !== undefined) {
        return {
          code: 200,
          data: data
        };
      }
    } catch (err) {
      console.error("API error:", err);
    }

    // wait 5 seconds
    await new Promise(resolve => setTimeout(resolve, interval));
  }

  // ‚õî Timeout response
  return {
    code: 100,
    message: "Result not ready, please try again later"
  };
}



async function getDataFromApi(baseUrl, sessionId) {
      try {
        if (!sessionId) {
          throw new Error("Session ID is required");
        }

        const finalUrl = `${baseUrl}/${sessionId}`;

        const response = await fetch(finalUrl);

        if (!response.ok) {
          throw new Error("HTTP Error " + response.status);
        }

        const data = await response.json();

        return {
          success: true,
          status: response.status,
          data
        };

      } catch (err) {
        console.error("‚ùå GET failed:", err.message);

        return {
          success: false,
          error: err.message
        };
      }
    }


function addMsg(text, from = "user") {
  const row = document.createElement("div");
  row.className = "msg";

  const avatar = document.createElement("div");
  avatar.className = "avatar";
  avatar.textContent = from === "user" ? "YOU" : "IS";

  const bubble = document.createElement("div");
  bubble.className = "bubble";
  bubble.textContent = text;

  if (from === "user") {
    row.style.justifyContent = "flex-end";
    row.append(bubble, avatar);
  } else {
    row.append(avatar, bubble);
  }

  thread.appendChild(row);
  thread.scrollTop = thread.scrollHeight;
}




//                                               inside BOT

async function sendToAPI(text) {
  try {
    const res = await fetch(
      API_URL,
      {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ message: text })
      }
    );
    const data = await res.json();


    addMsg(data.reply || "No response", "bot");
  } catch {
    addMsg("‚ö† Server not reachable.", "bot");
  }
}





function sendMessage() {
  const text = input.value.trim();
  if (!text) return;
  addMsg(text, "user");
  input.value = "";
  sendToAPI(text);
}

sendBtn.addEventListener("click", sendMessage);
input.addEventListener("keydown", e => {
  if (e.key === "Enter") {
    e.preventDefault();
    sendMessage();
  }
});































/* FINDINGS DATA */





  const chatBody = document.getElementById("chatBody");
  const chatInput = document.getElementById("chatInput");

  function appendChatMessage(text, sender) {
    const div = document.createElement("div");
    div.className = `message ${sender}`;
    div.innerText = text;
    chatBody.appendChild(div);
    chatBody.scrollTop = chatBody.scrollHeight;
  }

  function showTypingIndicator() {
    const div = document.createElement("div");
    div.className = "message bot typing";
    div.id = "typing";
    div.innerText = "Typing...";
    chatBody.appendChild(div);
    chatBody.scrollTop = chatBody.scrollHeight;
  }

  function hideTypingIndicator() {
    const typing = document.getElementById("typing");
    if (typing) typing.remove();
  }

  async function handleSendMessage() {
    const message = chatInput.value.trim();
    if (!message) return;

    appendChatMessage(message, "user");
    chatInput.value = "";

    showTypingIndicator();

    try {
      const res = await fetch(
        API_URL,
        {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ message })
        }
      );

      const Eamil_data = await res.json();

      if(Eamil_data.status==true){
        const sessionId = Eamil_data.webhook.session_id;

        if (sessionId) {
  const chatBody = document.querySelector(".chat_bod");
  const resultBody = document.querySelector(".result_body"); 

  const name = Eamil_data.email.split("@")[0];
  document.getElementById("userName").textContent = `Hello ${name}`;

  setTimeout(() => {
    chatBody.style.display = "none";
    chatBody.classList.add("fade-out");
    resultBody.style.display = "block";
    resultBody.classList.add("show");
  }, 300);
}


  const apiResult = await await pollForResult(sessionId);


const result = {
  SocialEngineering: apiResult?.data?.result?.socialEngineering ?? "!",
  NetworkSecurity: apiResult?.data?.result?.networkSecurity ?? "!",
  ApplicationSecurity: apiResult?.data?.result?.applicationSecurity ?? "!",
  DNSHealth: apiResult?.data?.result?.dnsHealth ?? "!",
  IpReputation: apiResult?.data?.result?.ipReputation ?? "!",
  ExternalVulnerabilities: apiResult?.data?.result?.externalVulnerabilities ?? "!"
};

const Radar_Results = {
  socialEngineering: apiResult?.data?.result?.socialEngineering ?? "!",
  networkSecurity: apiResult?.data?.result?.networkSecurity ?? "!",
  applicationSecurity: apiResult?.data?.result?.applicationSecurity ?? "!",
  dnsHealth: apiResult?.data?.result?.dnsHealth ?? "!",
  ipReputation: apiResult?.data?.result?.ipReputation ?? "!",
  externalVulnerabilities: apiResult?.data?.result?.externalVulnerabilities ?? "!"
};




await showFinalResult(
  Radar_Results
);


      const desc={
        SocialEngineering:"Emails of employees exposed on the internet.",
        NetworkSecurity:"Insecure network configurations.",
        ApplicationSecurity:"Application vulnerabilities detected.",
        DNSHealth:"DNS misconfiguration issues.",
        IpReputation:"Suspicious IP activities detected.",
        ExternalVulnerabilities:"External asset exposure risks."
      };

const order=Object.keys(result);
const rows=document.getElementById("findingsRows");

for(let i=0;i<order.length;i+=2){
  const row=document.createElement("div");
  row.className="finding-row";

  [order[i],order[i+1]].forEach(k=>{
    if(!k)return;
    row.innerHTML+=`
      <div class="finding">
        <div class="grade grade-${result[k].toLowerCase()}">${result[k]}</div>
        <div>
          <div class="finding-title">${k}</div>
          <div class="finding-desc">${desc[k]}</div>
        </div>
      </div>`;
  });

  rows.appendChild(row);
}



function formatDate(dateString) {
  const date = new Date(dateString);

  const day = date.getDate();
  const year = date.getFullYear();

  const months = [
    "January","February","March","April","May","June",
    "July","August","September","October","November","December"
  ];

  const month = months[date.getMonth()];

  // Day suffix (st, nd, rd, th)
  function getDaySuffix(d) {
    if (d > 3 && d < 21) return "th";
    switch (d % 10) {
      case 1: return "st";
      case 2: return "nd";
      case 3: return "rd";
      default: return "th";
    }
  }

  let hours = date.getHours();
  const minutes = String(date.getMinutes()).padStart(2, "0");
  const seconds = String(date.getSeconds()).padStart(2, "0");

  const ampm = hours >= 12 ? "PM" : "AM";
  hours = hours % 12 || 12;

  return `${day}${getDaySuffix(day)} ${month} ${year} ${String(hours).padStart(2, "0")}:${minutes}:${seconds} ${ampm}`;
}

const date=apiResult.data.created_at;
const create_date= await formatDate(date);

document.getElementById("scanInfo").textContent =
  "Last scanned on " + create_date;


}
      hideTypingIndicator();

      const reply = Eamil_data.reply || Eamil_data.message || "No response";
      appendChatMessage(reply, "bot");

    } catch (err) {
      hideTypingIndicator();
      appendChatMessage("‚ùå Server error. Try again.", "bot");
      console.error(err);
    }
  }


  function smoothScrollToBottom(element) {
  element.scrollTo({
    top: element.scrollHeight,
    behavior: "smooth"
  });
}









/* RADAR SYSTEM */
const loader = document.getElementById("loader");
const canvas = document.getElementById("radar");
const ctx = canvas.getContext("2d");

/* LABELS */
const labels = [
  "Social Engineering",
  "Network Security",
  "Application Security",
  "DNS Health",
  "IP Reputation",
  "Internal Vulnerabilities"
];

/* INITIAL DUMMY SCORES (animation only before result) */
let scores = [70, 78, 72, 64, 68, 75];

/* CONTROL FLAGS */
let radarInterval = null;
let resultArrived = false;

/* GRADE ‚Üí SCORE MAP */
const gradeMap = {
  A: 90,
  B: 75,
  C: 60,
  D: 40
};

/* RADAR CONFIG */
const cfg = {
  cx: canvas.width / 2,
  cy: canvas.height / 2 + 8,
  radius: 130,
  rings: 5,
  grid: "rgba(255,255,255,0.12)",
  axis: "rgba(255,255,255,0.18)",
  fill: "rgba(34,230,200,0.18)",
  stroke: "#22e6c8",
  point: "#49ffd7",
  label: "#9fb0cc",
  font: "12px system-ui"
};

function polar(angle, r) {
  return [
    cfg.cx + r * Math.cos(angle),
    cfg.cy + r * Math.sin(angle)
  ];
}

/* DRAW RADAR */
function drawRadar() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  const n = labels.length;
  const step = (Math.PI * 2) / n;
  const startAngle = -Math.PI / 2;

  ctx.save();
  ctx.translate(0.5, 0.5);

  /* GRID */
  for (let k = 1; k <= cfg.rings; k++) {
    const r = cfg.radius * (k / cfg.rings);
    ctx.beginPath();
    for (let i = 0; i < n; i++) {
      const ang = startAngle + i * step;
      const [x, y] = polar(ang, r);
      i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
    }
    ctx.closePath();
    ctx.strokeStyle = cfg.grid;
    ctx.stroke();
  }

  /* AXIS + LABELS */
  ctx.font = cfg.font;

  labels.forEach((label, i) => {
    const ang = startAngle + i * step;
    const [ax, ay] = polar(ang, cfg.radius);

    ctx.beginPath();
    ctx.moveTo(cfg.cx, cfg.cy);
    ctx.lineTo(ax, ay);
    ctx.strokeStyle = cfg.axis;
    ctx.stroke();

    const [lx, ly] = polar(ang, cfg.radius + 18);
    ctx.fillStyle = cfg.label;

    ctx.textAlign =
      Math.cos(ang) > 0.15 ? "left" :
      Math.cos(ang) < -0.15 ? "right" : "center";

    ctx.textBaseline =
      Math.sin(ang) > 0.15 ? "top" :
      Math.sin(ang) < -0.15 ? "bottom" : "middle";

    ctx.fillText(label, lx, ly);
  });

  /* DATA SHAPE */
  ctx.beginPath();
  scores.forEach((v, i) => {
    const ang = startAngle + i * step;
    const r = cfg.radius * (v / 100);
    const [x, y] = polar(ang, r);
    i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
  });
  ctx.closePath();
  ctx.fillStyle = cfg.fill;
  ctx.strokeStyle = cfg.stroke;
  ctx.fill();
  ctx.stroke();

  /* POINTS */
  scores.forEach((v, i) => {
    const ang = startAngle + i * step;
    const r = cfg.radius * (v / 100);
    const [x, y] = polar(ang, r);

    ctx.beginPath();
    ctx.arc(x, y, 3, 0, Math.PI * 2);
    ctx.fillStyle = cfg.point;
    ctx.fill();
  });

  ctx.restore();
}

/* AUTO ANIMATION (BEFORE RESULT ONLY) */
function randomizeScores() {
  if (resultArrived) return;

  scores = scores.map(v =>
    Math.min(100, Math.max(0, v + (Math.random() * 10 - 5)))
  );
  drawRadar();
}

/* FINAL RESULT (STOP FOREVER) */
function showFinalResult(grades) {
  if (resultArrived) return;

  resultArrived = true;
  clearInterval(radarInterval);

  scores = [
    gradeMap[grades.socialEngineering],
    gradeMap[grades.networkSecurity],
    gradeMap[grades.applicationSecurity],
    gradeMap[grades.dnsHealth],
    gradeMap[grades.ipReputation],
    gradeMap[grades.internalVulnerabilities]
  ];

  drawRadar();
}

/* INIT */
setTimeout(() => {
  loader.style.display = "none";
  canvas.style.display = "block";
  drawRadar();

  radarInterval = setInterval(randomizeScores, 1000);
  document.getElementById("findings_out").classList.add("show");
}, 2000);

/* üî• CALL THIS WHEN RESULT COMES (API RESPONSE) */
// showFinalResult({
//   socialEngineering: "B",
//   networkSecurity: "A",
//   applicationSecurity: "C",
//   dnsHealth: "D",
//   ipReputation: "B",
//   internalVulnerabilities: "A"
// });







</script>

</body>
</html>
